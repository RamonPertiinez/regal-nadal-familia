<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <title>Repte 1</title>

  <!-- Poppins font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #4ade80 0, #166534 45%, #020617 100%);
      color: #0f172a;
      overflow: hidden;
      position: relative;
    }

    .bg-emoji-container {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      opacity: 0.18;
    }

    .bg-emoji {
      position: absolute;
      font-size: 40px;
      animation: float 16s linear infinite;
    }

    .bg-emoji:nth-child(1) { top: 8%; left: 10%; animation-duration: 17s; }
    .bg-emoji:nth-child(2) { top: 15%; right: 12%; animation-duration: 19s; }
    .bg-emoji:nth-child(3) { top: 70%; left: 8%; animation-duration: 18s; }
    .bg-emoji:nth-child(4) { top: 75%; right: 9%; animation-duration: 16s; }
    .bg-emoji:nth-child(5) { top: 45%; left: 3%; animation-duration: 20s; }
    .bg-emoji:nth-child(6) { top: 50%; right: 4%; animation-duration: 22s; }
    .bg-emoji:nth-child(7) { top: 25%; left: 40%; animation-duration: 21s; }
    .bg-emoji:nth-child(8) { top: 65%; left: 45%; animation-duration: 19s; }
    .bg-emoji:nth-child(9) { top: 30%; right: 32%; animation-duration: 23s; }
    .bg-emoji:nth-child(10){ top: 55%; right: 50%; animation-duration: 18s; }

    @keyframes float {
      0%   { transform: translateY(0px); }
      50%  { transform: translateY(-18px); }
      100% { transform: translateY(0px); }
    }

    .wrapper {
      padding: 24px;
      width: 100%;
      max-width: 900px;
      position: relative;
      z-index: 1;
    }

    .card {
      background: rgba(248, 250, 252, 0.97);
      border-radius: 24px;
      padding: 32px 28px 24px;
      box-shadow:
        0 18px 40px rgba(15, 23, 42, 0.35),
        0 0 0 1px rgba(148, 163, 184, 0.35);
      max-width: 620px;
      margin: 0 auto;
      text-align: center;
      animation: floatIn 0.7s ease-out forwards;
      transform: translateY(10px);
      opacity: 0;
    }

    @keyframes floatIn {
      0%   { opacity: 0; transform: translateY(12px) scale(0.97); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      background: rgba(74, 222, 128, 0.12);
      color: #166534;
      margin-bottom: 16px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.25);
    }

    h1 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 10px;
      color: #020617;
    }

    .subtitle {
      font-size: 14px;
      color: #475569;
      margin-bottom: 16px;
      line-height: 1.55;
    }

    .step-tag {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e2f3ff;
      color: #0f172a;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 10px;
    }

    .emoji-grid-title {
      font-size: 13px;
      color: #64748b;
      margin-bottom: 6px;
    }

    .emoji-grid {
      display: grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      gap: 10px;
      margin-bottom: 14px;
    }

    .emoji-btn {
      background: white;
      border-radius: 18px;
      padding: 10px 0 6px;
      border: 1px solid #e2e8f0;
      cursor: pointer;
      font-size: 22px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease, background 0.12s ease;
    }

    .emoji-btn span.label {
      font-size: 10px;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .emoji-btn.found {
      background: #ecfdf3;
      border-color: #4ade80;
      box-shadow: 0 8px 18px rgba(34, 197, 94, 0.35);
      transform: translateY(-1px);
    }

    .emoji-btn.found span.label {
      color: #166534;
      font-weight: 600;
    }

    .emoji-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.18);
    }

    .clue-box {
      background: #f1f5f9;
      border-radius: 18px;
      padding: 10px 14px;
      text-align: left;
      font-size: 13px;
      color: #1e293b;
      min-height: 52px;
      margin-bottom: 12px;
      border: 1px solid #e2e8f0;
    }

    .clue-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #94a3b8;
      margin-bottom: 2px;
    }

    .status-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      color: #64748b;
      margin-bottom: 14px;
    }

    .status-badge {
      padding: 4px 10px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .status-badge.ready {
      background: #dcfce7;
      color: #166534;
    }

    .primary-btn, .secondary-btn {
      padding: 9px 16px;
      border-radius: 999px;
      border: none;
      font-size: 13px;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease, opacity 0.12s ease;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .primary-btn {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 10px 25px rgba(22, 163, 74, 0.45);
    }

    .primary-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(22, 163, 74, 0.55);
      filter: brightness(1.03);
    }

    .primary-btn:active {
      transform: translateY(0);
      box-shadow: 0 8px 18px rgba(22, 163, 74, 0.45);
      filter: brightness(0.96);
    }

    .primary-btn.disabled {
      opacity: 0.4;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .secondary-btn {
      background: transparent;
      color: #64748b;
    }

    .secondary-btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
    }

    .step-divider {
      border-top: 1px dashed #cbd5f5;
      margin: 14px 0 16px;
    }

    .hidden {
      display: none;
    }

    .input-row {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-bottom: 10px;
    }

    input[type="text"] {
      padding: 10px 14px;
      min-width: 150px;
      border-radius: 999px;
      border: 1px solid #cbd5f5;
      outline: none;
      font-size: 14px;
      font-family: inherit;
      text-align: center;
      transition: box-shadow 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
    }

    input[type="text"]:focus {
      border-color: #22c55e;
      box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.25);
      transform: translateY(-1px);
    }

    #missatge {
      font-size: 13px;
      min-height: 18px;
      color: #b91c1c;
      margin-bottom: 4px;
    }

    .hint {
      font-size: 11px;
      color: #94a3b8;
    }

    .result {
      margin-top: 16px;
      padding: 14px 18px;
      background: linear-gradient(135deg, #ecfdf3, #dcfce7);
      border-radius: 18px;
      border: 1px solid #bbf7d0;
      color: #166534;
      font-size: 14px;
      display: none;
      text-align: left;
    }

    .result-title {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .result span {
      font-weight: 700;
    }

    @media (max-width: 600px) {
      .card { padding: 24px 18px 20px; border-radius: 20px; }
      h1 { font-size: 24px; }
      .subtitle { font-size: 13px; }
      .emoji-grid { grid-template-columns: repeat(5, 1fr); gap: 8px; }
      .emoji-btn { border-radius: 16px; font-size: 20px; padding: 8px 0 4px; }
      .wrapper { padding: 16px; }
      .input-row { flex-direction: column; align-items: stretch; }
      input[type="text"] { width: 100%; }
      .primary-btn { width: 100%; justify-content: center; }
    }
  </style>
</head>
<body>
  <!-- Emojis flotants de fons -->
  <div class="bg-emoji-container">
    <div class="bg-emoji">üíª</div>
    <div class="bg-emoji">üßä</div>
    <div class="bg-emoji">üìö</div>
    <div class="bg-emoji">üöø</div>
    <div class="bg-emoji">üõèÔ∏è</div>
    <div class="bg-emoji">üçΩÔ∏è</div>
    <div class="bg-emoji">üß∫</div>
    <div class="bg-emoji">üì∫</div>
    <div class="bg-emoji">üëü</div>
    <div class="bg-emoji">üîë</div>
  </div>

  <div class="wrapper">
    <div class="card">
      <div class="pill">
        <div class="dot"></div>
        Repte del misteri
      </div>

      <h1>Repte 1</h1>
      <p class="subtitle">
        Hi ha <strong>10 n√∫meros amagats per la casa</strong>.  
        Cada emoji amaga una pista d‚Äôon trobar-ne un.  
        Quan hagis visitat tots els llocs i tinguis tots els papers, podr√†s descobrir quin n√∫mero √©s la clau.
      </p>

      <div class="step-tag">Pas 1 ¬∑ Descobreix les ubicacions</div>
      <p class="emoji-grid-title">Toca cada emoji per revelar la pista del lloc on s‚Äôamaga un n√∫mero:</p>

      <div class="emoji-grid" id="emojiGrid">
        <!-- Es generen des de JavaScript -->
      </div>

      <div class="clue-box" id="clueBox">
        <div class="clue-title">Pista actual</div>
        <div id="clueText">Clica algun emoji per veure la primera pista.</div>
      </div>

      <div class="status-row">
        <div><span id="foundCount">0</span>/10 llocs descoberts</div>
        <div id="statusBadge" class="status-badge">Encara tens llocs per trobar</div>
      </div>

      <button id="nextStepBtn" class="primary-btn disabled" onclick="mostrarPas2()" disabled>
        Ja he trobat tots els n√∫meros
      </button>

      <div class="step-divider"></div>

      <div id="step2" class="hidden">
        <div class="step-tag">Pas 2 ¬∑ Troba el n√∫mero clau</div>
        <p class="subtitle" style="margin-bottom: 10px;">
          Un dels n√∫meros que has trobat <strong>no vol passar desapercebut</strong>‚Ä¶  
          Recordes quin era l‚Äô√∫nic que destacava?
        </p>

        <div class="input-row">
          <input
            id="resposta"
            type="text"
            placeholder="Escriu el n√∫mero clau‚Ä¶"
            autocomplete="off"
            inputmode="numeric"
          />
          <button class="primary-btn" onclick="comprovar()">
            Comprova
          </button>
        </div>

        <p id="missatge"></p>
        <p class="hint">Pista: pensa en el color del n√∫mero quan el vas veure‚Ä¶ üòâ</p>
      </div>

      <div id="pista-final" class="result">
        <div class="result-title">üëå Bona feina!</div>
        <p>
          Has desxifrat la pista del repte: el <span>DIA √©s 10</span>.<br>
          Guarda aquesta informaci√≥, la necessitareu m√©s endavant‚Ä¶
        </p>
      </div>
    </div>
  </div>

  <script>
    const emojiData = [
      { icon: "üíª", label: "Despatx", clue: "Mira a prop de l‚Äôordinador: potser sota el teclat, darrere la pantalla o dins un calaix del despatx." },
      { icon: "üßä", label: "Congelador", clue: "Revisa l‚Äô√∫ltim calaix del congelador. Ves amb compte de no congelar-te els dits." },
      { icon: "üìö", label: "Llibres", clue: "Busca entre els llibres d‚Äôuna prestatgeria que feu servir sovint. Pot estar entre p√†gines o darrere d‚Äôun llibre gruixut." },
      { icon: "üöø", label: "Bany", clue: "Una pista es deu estar amagant al bany: potser darrere la cortina de la dutxa o sota el moble del lavabo." },
      { icon: "üõèÔ∏è", label: "Llit", clue: "Mira sota el coix√≠ o entre els llen√ßols d‚Äôalgun llit que feu servir cada dia." },
      { icon: "üçΩÔ∏è", label: "Cuina", clue: "Cerca al calaix dels coberts o en algun rac√≥ especial de la cuina on sempre deixeu coses petites." },
      { icon: "üß∫", label: "Roba bruta", clue: "Repassa el cistell de la roba bruta: potser hi ha un paper amagat entre samarretes i mitjons." },
      { icon: "üì∫", label: "Sof√† / Sala", clue: "Alguna cosa s‚Äôamaga a la zona de la tele: pot estar sota el comandament, darrere la tele o entre els coixins del sof√†." },
      { icon: "üëü", label: "Sabates", clue: "Dona un cop d‚Äôull dins d‚Äôuna sabata o sabatilla que alg√∫ faci servir molt sovint." },
      { icon: "üîë", label: "Lloc secret", clue: "Pensa en aquell ‚Äòamagatall‚Äô t√≠pic de casa on guardeu coses importants‚Ä¶ potser all√† hi ha l‚Äô√∫ltim n√∫mero." }
    ];

    const grid = document.getElementById("emojiGrid");
    const clueBox = document.getElementById("clueBox");
    const clueText = document.getElementById("clueText");
    const foundCountEl = document.getElementById("foundCount");
    const statusBadge = document.getElementById("statusBadge");
    const nextStepBtn = document.getElementById("nextStepBtn");
    const step2 = document.getElementById("step2");

    let foundState = new Array(emojiData.length).fill(false);

    function renderGrid() {
      emojiData.forEach((item, index) => {
        const btn = document.createElement("button");
        btn.className = "emoji-btn";
        btn.setAttribute("type", "button");
        btn.dataset.index = index;

        btn.innerHTML = `
          <div>${item.icon}</div>
          <span class="label">${item.label}</span>
        `;

        btn.addEventListener("click", () => onEmojiClick(index, btn));
        grid.appendChild(btn);
      });
    }

    function onEmojiClick(index, btnEl) {
      const wasFound = foundState[index];
      foundState[index] = true; // el marquem com a vist (no cal desmarcar)

      btnEl.classList.add("found");
      clueText.textContent = emojiData[index].clue;

      const foundCount = foundState.filter(Boolean).length;
      foundCountEl.textContent = foundCount.toString();

      if (foundCount === emojiData.length) {
        statusBadge.textContent = "Tots els llocs descoberts!";
        statusBadge.classList.add("ready");
        nextStepBtn.classList.remove("disabled");
        nextStepBtn.disabled = false;
      } else {
        statusBadge.textContent = "Encara tens llocs per trobar";
      }
    }

    function mostrarPas2() {
      if (foundState.filter(Boolean).length !== emojiData.length) return;
      step2.classList.remove("hidden");
      // despla√ßa una mica el focus
      document.getElementById("resposta")?.focus();
    }

    function comprovar() {
      const valor = document.getElementById("resposta").value.trim();
      const missatge = document.getElementById("missatge");
      const pista = document.getElementById("pista-final");

      if (valor === "10") {
        missatge.textContent = "";
        pista.style.display = "block";
      } else {
        pista.style.display = "none";
        if (!valor) {
          missatge.textContent = "Has d‚Äôescriure algun n√∫mero abans de comprovar üòâ";
        } else {
          missatge.textContent = "Aix√≤ no sembla correcte... pensa en quin n√∫mero destacava m√©s que la resta.";
        }
      }
    }

    renderGrid();
  </script>
</body>
</html>
